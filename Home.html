<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>CyberRaksha</title>
  <style>
    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background-color: #111827;
      color: #f1f5f9;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    header {
      width: 100%;
      max-width: 1000px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 20px 30px;
      background-color: #1f2937;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
      border-bottom: 2px solid #374151;
    }

    .logo img {
      height: 45px;
    }

    .header-right button {
      padding: 10px 20px;
      background-color: #2563eb;
      border: none;
      color: #fff;
      border-radius: 6px;
      cursor: pointer;
      font-weight: 600;
      transition: background 0.3s;
    }

    .header-right button:hover {
      background-color: #1d4ed8;
    }

    .modal {
      display: none;
      position: fixed;
      z-index: 999;
      left: 0; top: 0;
      width: 100%; height: 100%;
      background-color: rgba(0, 0, 0, 0.7);
      justify-content: center;
      align-items: center;
    }

    .modal-content {
      background-color: #1e293b;
      padding: 30px;
      border-radius: 12px;
      width: 90%;
      max-width: 400px;
      color: #f1f5f9;
      box-shadow: 0 0 15px rgba(0,0,0,0.5);
    }

    .modal-content input,
    .modal-content button {
      width: 100%;
      padding: 10px;
      margin: 10px 0;
      border-radius: 6px;
      border: none;
    }

    .modal-content input {
      background-color: #334155;
      color: #f1f5f9;
    }

    .modal-content button {
      background-color: #10b981;
      color: white;
      font-weight: 600;
    }

    .modal-content button:hover {
      background-color: #059669;
    }

    .toggle-link {
      text-align: center;
      margin-top: 10px;
      font-size: 14px;
      cursor: pointer;
      color: #60a5fa;
    }

    .maincontent {
      max-width: 1000px;
      margin: 40px 20px;
      padding: 20px;
    }

    .section-one, .section-two {
      display: flex;
      background-color: #1f2937;
      padding: 30px;
      flex-wrap: wrap;
      gap: 40px;
      border-radius: 12px;
      margin-bottom: 40px;
    }

    #c1 {
      flex: 1;
      color: #d1d5db;
      font-size: 16px;
    }

    video {
      max-width: 100%;
      border-radius: 12px;
      box-shadow: 0 0 10px rgba(0,0,0,0.4);
    }

    .section-two h2 span {
      color: #60a5fa;
    }

    .about-us {
      background-color: #111827;
      border: 2px solid #374151;
      border-radius: 12px;
      padding: 40px;
      margin-top: 40px;
      text-align: center;
    }

    .about-container {
      display: flex;
      justify-content: center;
      align-items: center;
      flex-wrap: wrap;
      margin-top: 30px;
    }

    .profile-pic {
      width: 120px;
      height: 120px;
      border-radius: 50%;
      overflow: hidden;
      margin: 10px;
      border: 3px solid #3b82f6;
    }

    .profile-pic img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .bio-box {
      background-color: #1e293b;
      color: #f1f5f9;
      border-radius: 10px;
      padding: 20px;
      margin: 10px;
      min-width: 260px;
      box-shadow: 0 0 10px rgba(0,0,0,0.3);
    }

    .bio-box strong {
      display: block;
      font-size: 18px;
      margin-bottom: 8px;
    }
  </style>
</head>
<body>

  <header>
    <div class="logo">
      <img src="logo.png" alt="CyberRaksha Logo">
    </div>
    <div class="header-right">
      <button onclick="openModal()">Login / Signup</button>
    </div>
  </header>

  <div class="modal" id="authModal">
    <div class="modal-content">
      <span class="close-btn" onclick="closeModal()" style="float:right;cursor:pointer;">&times;</span>

      <div id="loginForm">
        <h3>Login</h3>
        <form id="loginFormEl">
          <input type="text" id="login-username" placeholder="Username" required>
          <input type="password" id="login-password" placeholder="Password" required>
          <button type="submit">Login</button>
        </form>
        <div class="toggle-link" onclick="toggleForm()">New user? Sign up</div>
      </div>

      <div id="signupForm" style="display: none;">
        <h3>Sign Up</h3>
        <form id="signupFormEl">
          <input type="text" id="signup-username" placeholder="Username" required>
          <input type="password" id="signup-password" placeholder="Password" required>
          <button type="submit">Sign Up</button>
        </form>
        <div class="toggle-link" onclick="toggleForm()">Already have an account? Login</div>
      </div>
    </div>
  </div>

  <div class="maincontent">
    <div class="section-one">
      <video autoplay loop muted>
        <source src="vid1.webm" type="video/webm">
        Your browser does not support the video tag.
      </video>
      <div id="c1">
        <h2>What Is CyberSecurity</h2>
        <p>Cybersecurity aims to protect computer systems, applications, and data against threats like ransomware, phishing, and malware.</p>
        <h2>Why Cybersecurity Matters</h2>
        <p>In today's digital age, every individual and organization is vulnerable to cyber attacks. Cybersecurity ensures the safety of personal and professional data from unauthorized access.</p>
        <h2>Stay Aware, Stay Secure</h2>
        <p>Learning about cybersecurity helps you prevent online scams, understand data protection laws, and respond effectively to security breaches.</p>
      </div>
    </div>

    <div class="section-two">
      <div>
        <h2>What is <span>Cyber-Raksha</span>?</h2>
        <p><strong>Cyber-Raksha</strong> is a community-driven initiative focused on promoting cybersecurity awareness and digital safety. It serves as a collaborative platform where users can discuss threats, share knowledge, and support each other in navigating the digital world securely. It provides articles, video lectures, and quizzes to educate users and test their cybersecurity awareness.</p>
      </div>
    </div>

    <div class="about-us">
      <h2>About Me</h2>
      <div class="about-container">
        <div class="profile-pic">
          <img src="profilepic.jpg" alt="Profile pic">
        </div>
        <div class="bio-box">
          <strong>Varun Mehra (23BAI1248)</strong>
          <p>2nd year student in Vellore Institute of Technology, Chennai</p>
        </div>
      </div>
    </div>
  </div>

  <script>
    function openModal() {
      document.getElementById('authModal').style.display = 'flex';
    }

    function closeModal() {
      document.getElementById('authModal').style.display = 'none';
    }

    function toggleForm() {
      const login = document.getElementById('loginForm');
      const signup = document.getElementById('signupForm');
      login.style.display = login.style.display === 'none' ? 'block' : 'none';
      signup.style.display = signup.style.display === 'none' ? 'block' : 'none';
    }

    document.getElementById('loginFormEl').addEventListener('submit', async function (e) {
      e.preventDefault();
      const username = document.getElementById('login-username').value;
      const password = document.getElementById('login-password').value;
      const res = await fetch('/login', {
        method: 'POST',
        headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
        body: `username=${username}&password=${password}`
      });
      const text = await res.text();
      //alert(text);
      if (text.includes("successful")) {
        localStorage.setItem("username", username);
        window.location.href = "/user/welcome.html";
      }
    });

    document.getElementById('signupFormEl').addEventListener('submit', async function (e) {
      e.preventDefault();
      const username = document.getElementById('signup-username').value;
      const password = document.getElementById('signup-password').value;
      const res = await fetch('/signup', {
        method: 'POST',
        headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
        body: `username=${username}&password=${password}`
      });
      const text = await res.text();
      alert(text);
      if (text.includes("successful")) {
        toggleForm();
      }
    });
  </script>
</body>
</html>
